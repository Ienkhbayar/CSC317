<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>JavaScript Calculator</title>
    <link rel="stylesheet" id="calculator-theme" href="styles/calculator-dark.css" />
</head>

<body>

<nav>
    <a href="index.html" style="color: var(--primary-color); text-decoration: underline; margin: 20px; display: block;">
        ‚Üê Back to Portfolio
    </a>
</nav>

<div class="theme-switcher">
    <button class="theme-button active" data-theme="dark">üåô Dark</button>
    <button class="theme-button" data-theme="light">‚òÄÔ∏è Light</button>
</div>

<main id="calculator" role="main">
    <label for="display" class="visually-hidden">Calculator Display</label>
    <input id="display" readonly />

    <div id="keys">
        <button id="add" onclick="appendToDisplay('+')" class="operator-btn">+</button>
        <button id="7" onclick="appendToDisplay('7')">7</button>
        <button id="8" onclick="appendToDisplay('8')">8</button>
        <button id="9" onclick="appendToDisplay('9')">9</button>

        <button id="subtract" onclick="appendToDisplay('-')" class="operator-btn">-</button>
        <button id="4" onclick="appendToDisplay('4')">4</button>
        <button id="5" onclick="appendToDisplay('5')">5</button>
        <button id="6" onclick="appendToDisplay('6')">6</button>

        <button id="multiply" onclick="appendToDisplay('*')" class="operator-btn">*</button>
        <button id="1" onclick="appendToDisplay('1')">1</button>
        <button id="2" onclick="appendToDisplay('2')">2</button>
        <button id="3" onclick="appendToDisplay('3')">3</button>

        <button id="divide" onclick="appendToDisplay('/')" class="operator-btn">/</button>
        <button id="0" onclick="appendToDisplay('0')">0</button>
        <button id="decimal" onclick="appendToDisplay('.')">.</button>
        <button id="equals" onclick="calculate()">=</button>
        <button id="clear" onclick="clearDisplay()" class="operator-btn">C</button>
    </div>
</main>

<script src="scripts/calculator.js"></script>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        const themeButtons = document.querySelectorAll('.theme-button');
        const themeLink = document.getElementById('calculator-theme');

        function setCalculatorTheme(theme) {
            themeLink.href = `styles/calculator-${theme}.css`;
            localStorage.setItem('calculatorTheme', theme);

            themeButtons.forEach(btn => {
                btn.classList.toggle('active', btn.dataset.theme === theme);
            });
        }

        themeButtons.forEach(button => {
            button.addEventListener('click', () => {
                setCalculatorTheme(button.dataset.theme);
            });
        });

        const savedTheme = localStorage.getItem('calculatorTheme') || 'dark';
        setCalculatorTheme(savedTheme);
    });
</script>

</body>
</html>
